# Интеграция с Альфа-Банк эквайрингом

## Текущий статус

✅ **Выполнено:**
- Получены учетные данные от Альфа-Банка
- Обновлен `merchant_id` в коде: `ALESYATAKUN`
- Создан файл конфигурации `/src/config/payment.js`
- Настроены URL-адреса для боевого окружения
- Исправлены ошибки TypeScript

## Учетные данные

### API доступ:
- **Username:** `ALESYATAKUN-api`
- **Password:** `Aupsawh%5+YesNP`

### Мерчант:
- **ID:** `ALESYATAKUN`
- **Название:** `ALESYATAKUN`

### URL-адреса:
- **Боевая среда:** `https://ecom.alfabank.by`
- **API endpoint:** `https://ecom.alfabank.by/payment/rest/`
- **Личный кабинет:** `https://ecom.alfabank.by/generalmp3/auth/login`

## Что нужно сделать дальше

⏳ **Осталось:**
1. **Получить секретный ключ** от Альфа-Банка для генерации подписи
2. **Заменить `YOUR_SECRET_KEY`** в файле `src/config/payment.js` на реальный ключ
3. **Протестировать интеграцию** на боевом окружении
4. **Настроить webhook** для получения уведомлений о статусе платежей

## Файлы для обновления

### `src/config/payment.js`
- Строка 42: заменить `'YOUR_SECRET_KEY'` на реальный секретный ключ от Альфа-Банка
- Функция `generateSignature()` уже реализована
- Функция `createPaymentParams()` автоматически генерирует подпись

### `src/pages/payments.astro`
- Код уже обновлен для использования автоматической генерации подписи
- Проверка `paymentConfig.signature.secretKey === 'YOUR_SECRET_KEY'` покажет статус настройки

## Тестирование

После настройки подписи:
1. Откройте страницу `/payments`
2. Введите сумму и нажмите "Оплатить"
3. Должен произойти редирект на платежную страницу Альфа-Банка
4. Проверьте обработку успешных и неуспешных платежей

## Контакты поддержки

- **Имя:** Anna Nikolaeva
- **Отдел:** Ecom Support
- **Телефон:** +7 (499) 495-19-84
- **Email:** support@belkapay.by
