# Сайт Алеся Такун — Astro

## Локальный запуск

```bash
npm install
npm run dev
```

## Эквайринг: что дальше

Цель: принимать онлайн‑платежи из‑за границы на расчётный счёт (Альфа‑Банк, IBAN BY80ALFA30132H53520010270000).

В РБ популярны провайдеры: bePaid, WebPay, Assist. Любой из них выдаёт платёжную страницу и API. Сайт на Astro подходит для «интернет‑эквайринга» (подтверждение банка).

**Провайдер: Альфа-Банк (Беларусь)** — уточните у банка, какой именно эквайринг они предлагают (собственный или через партнёров).

Шаги интеграции (примеры):

1. Зарегистрировать мерчанта у провайдера (bePaid/WebPay/Assist). Получить ID магазина, ключи.
2. На странице `/payments` для кнопок «Оплатить» выполнять редирект на hosted‑платёжную страницу провайдера с параметрами: сумма, валюта, описание, order_id, customer email/phone, success_url, fail_url.
3. Реализовать endpoint для уведомлений (webhook) `/api/payment/callback` для приёма статуса оплаты и валидации подписи.
4. Вести логи и сохранять статусы (можно без БД, в листе Google/Notion на первом этапе, далее — БД/Sheets API).
5. Проверить 3‑D Secure, валюты, комиссии, возвраты.

Мини‑пример редиректа (bePaid, схема):

```ts
// src/pages/api/payments/create.ts
export const POST = async ({ request, redirect }) => {
  const body = await request.json(); // { amount, description, orderId }
  // Подпись и создание инвойса на стороне провайдера через их API
  // const invoice = await createInvoice(...)
  return redirect(invoice.checkout_url, 302);
}
```

После согласования провайдера вставим реальные запросы и подписи. Страница `/payments` уже готова визуально.

## Домен и SEO

- Укажите домен в `astro.config.mjs` → `site`.
- Обновите `robots.txt` и карту сайта после покупки домена.
